\documentclass[10pt]{extarticle}
\title{}
\author{Avinash Iyer}
\date{}
\usepackage[shortlabels]{enumitem}

%font setup
%
%\usepackage{newpxtext,eulerpx}

%paper setup
\usepackage{geometry}
\geometry{letterpaper, portrait, margin=1in}
\usepackage{fancyhdr}

%symbols
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{hyperref}
\usepackage{gensymb}

\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}

%chemistry stuff
\usepackage[version=4]{mhchem}
\usepackage{chemfig}

%plotting
\usepackage{pgfplots}
\usepackage{tikz}
\tikzset{middleweight/.style={pos = 0.5, fill=white}}
\tikzset{weight/.style={pos = 0.5, fill = white}}
\tikzset{lateweight/.style={pos = 0.75, fill = white}}
\tikzset{earlyweight/.style={pos = 0.25, fill=white}}

%\usepackage{natbib}

%graphics stuff
\usepackage{graphicx}
\graphicspath{ {./images/} }

%code stuff
%when using minted, make sure to add the -shell-escape flag
%you can use lstlisting if you don't want to use minted
%\usepackage{minted}
%\usemintedstyle{pastie}
%\newminted[javacode]{java}{frame=lines,framesep=2mm,linenos=true,fontsize=\footnotesize,tabsize=3,autogobble,}
%\newminted[cppcode]{cpp}{frame=lines,framesep=2mm,linenos=true,fontsize=\footnotesize,tabsize=3,autogobble,}

%\usepackage{listings}
%\usepackage{color}
%\definecolor{dkgreen}{rgb}{0,0.6,0}
%\definecolor{gray}{rgb}{0.5,0.5,0.5}
%\definecolor{mauve}{rgb}{0.58,0,0.82}
%
%\lstset{frame=tb,
%	language=Java,
%	aboveskip=3mm,
%	belowskip=3mm,
%	showstringspaces=false,
%	columns=flexible,
%	basicstyle={\small\ttfamily},
%	numbers=none,
%	numberstyle=\tiny\color{gray},
%	keywordstyle=\color{blue},
%	commentstyle=\color{dkgreen},
%	stringstyle=\color{mauve},
%	breaklines=true,
%	breakatwhitespace=true,
%	tabsize=3
%}
% text + color boxes
\usepackage[most]{tcolorbox}
\tcbuselibrary{breakable}
\newtcolorbox{problem}[1]{colback = white, title = {#1}, breakable}
\newtcolorbox{solution}{colback = white, colframe = black!75!white, title = Solution, breakable}
%including PDFs
\setlength{\parindent}{0pt}

\pagestyle{fancy}
\fancyhf{}
\rhead{Avinash Iyer}
\lhead{Math 310: Class Notes}
\newcommand{\card}{\text{card}}
\newcommand{\ran}{\text{ran}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}
\begin{document}
  \begin{problem}{Introduction: naive set theory}
    \begin{align*}
      \mathbb{N} &= \{1,2,3,\dots,\}\\
      \mathbb{Z} &= \{0,\pm1,\pm2,\dots,\} \\
      \mathbb{Z}_+ &= \{0,1,2,\dots,\}\\
      \mathbb{Q} &= \left\{\frac{a}{b} \mid a,b\in\mathbb{Z},b\neq 0\right\}\\
      \mathbb{C} &= \{a+bi \mid a,b\in \mathbb{R}\}\\
      \mathbb{C}_q &= \{a+bi \mid a,b\in \mathbb{Q}\}
    \end{align*}
    Recall: given sets $X$ and $Y$, a relation from $X$ to $Y$ is a subset of $X\times Y$, where $\times$ denotes the cartesian product of $X$ and $Y$.\\

    A relation $f\subseteq X\times Y$ is a function from $X$ to $Y$ such that $\forall x\in X$, $\exists!y\in Y$ such that $(x,y) \in f$. We write $f(x) = y$, and denote $f$ as $f:X\rightarrow Y$.\\

    $X$ is the \textbf{domain} of $f$ and $Y$ is the \textbf{codomain}. The range $\textrm{ran}(f) = \{f(x)\mid x\in X\}\subseteq Y$. \\

    The graph of a function $\textrm{Graph}(f) = \{(x,f(x))\mid x\in X\} \subseteq X\times Y$.
    \begin{problem}{Examples}
      \[\textrm{id}_x: X\rightarrow X, \textrm{id}_X(x) = x\]
      This is the identity function.\\

      The Characteristic Function: If $A\subseteq X$
      \[\mathbf{1}_A: X\rightarrow \mathbb{R}, ~\mathbf{1}_A(x) = \begin{cases}
        1,&x\in A\\
        0,&x\notin A
      \end{cases}\]
    \end{problem}
    \begin{problem}{Algebra of Functions}
      Let $X$ be any set, and $\mathcal(X;\mathbb{R}) = \{f:X\rightarrow \mathbb{R}\}$ represent the function space of $X$ with codomain $\mathbb{R}$.\\

      Let $f,g\in \mathcal{F}(X;\mathbb{R})$. Then, $(f+g)(x) = f(x) + g(x)$, and $(f\cdot g)(x) = f(x)\cdot g(x)$.\\

      If $t\in \mathbb{R}$, then $(tf)(x) = tf(x)$ (scalar multiplication). If $g(x)\neq 0\forall x\in X$, then $\left(\frac{f}{g}\right)(x) := \frac{f(x)}{g(x)}$.\\

      Finally, we have composition. If $f:X\rightarrow Y$ and $g:Y\rightarrow Z$ are functions, then $g\circ f(x) = g(f(x))$.
    \end{problem}
    \begin{problem}{Injective, Subjective, and Bijective}
      A function $f:X\rightarrow Y$ is a \textbf{injective} map, then, if $f(x_1) = f(x_2)$, then $x_1 = x_2$.For example, the shift map $S:\mathbb{N} \rightarrow \mathbb{N},~S(n) = n+1$ is injective.\\

      Any strictly increasing function $f:I\rightarrow \mathbb{R}$, where $I$ is any interval, is injective.\\

      A function $f$ is \textbf{surjective} if $\forall y\in Y, \exists x\in X$ such that $f(x) = y$.\\

      Consider the function $f:\mathbb{R} \rightarrow \mathbb{R},~f(x) = x^3-2x+1$. We can show that this function is surjective because $\lim_{x\rightarrow \infty}f(x) = \infty$, $\lim_{x\rightarrow -\infty} f(x) = -\infty$. Due to the intermediate value theorem, we get that $\textrm{ran}(f) = \mathbb{R}$.\\

      $f$ is \textbf{bijective} if it is injective and surjective.
    \end{problem}
    \begin{problem}{Invertibility}
      Let $f:X\rightarrow Y$ be a function. $f$ is \textbf{left-invertible} if $\exists g:Y\rightarrow X$ such that $g\circ f = \textrm{id}_X$. $f$ is \textbf{right-invertible} if $\exists h:Y\rightarrow X$ such that $f\circ h = \textrm{id}_Y$.\\

      $f$ is \textbf{invertible} if $\exists k:Y\rightarrow X$ such that $f\circ k = \textrm{id}_Y$ and $k\circ f = \textrm{id}_X$.\\

      \begin{problem}{Proposition}
        $f$ is invertible if and only if $f$ is left and right invertible.
        \tcblower
          Forward direction: This is via the definition of invertibility.\\

          Reverse direction: Suppose $g$ is a left-inverse of $f$, and $h$ is a right-inverse of $f$. Therefore, $g\circ f = \textrm{id}_X$, and $f\circ h = \textrm{id}_Y$. Observe that $g = g\circ \textrm{id}_Y$. Therefore, $g = g\circ(f\circ h)$. Via associativity, $g = (g\circ f)\circ h = \textrm{id}_X \circ h = h$.
      \end{problem}
      \begin{problem}{Theorem}
        If $f:X\rightarrow Y$ is a function:
        \begin{enumerate}
          \item $f$ is injective $\Leftrightarrow$ $f$ is left-invertible.
          \item $f$ is surjective $\Leftrightarrow$ $f$ is right-invertible.
          \item $f$ is bijective $\Leftrightarrow$ $f$ is invertible.
        \end{enumerate}
        \tcblower
        We will prove the first proposition in the forward direction. Suppose $f$ is injective. Given $y\in \textrm{ran}(f)$, we know that $\exists! x_y\in X$ such that $f(x_y) = Y$, by the definition of injective.\\

        Let $g:Y\rightarrow X$. We will define $g$ as follows:
        \[
          g(y) = \begin{cases}
            x_y & y\in \textrm{ran}(f) \\
            x_0 & y\notin \textrm{ran}(f)
          \end{cases}
        \] 
        Where $x_0$ is an arbitrary point in $X$. We can see that $g\circ f = \textrm{id}_X$.
      \end{problem}
      For example, the function $\textrm{Sin}(x)$ defined as $\sin(x)$ restricted to $[-\pi/2,\pi/2]$ has an inverse, $\arcsin(x):[-1,1] \rightarrow [-\pi/2,\pi/2]$.
    \end{problem}
  \end{problem}
  \begin{problem}{Cardinality and Finitude}
    Which set is ``larger,'' $\{1,2,3\}$ or $\{1,2,3,4\}$? $\mathbb{N}$ or $\mathbb{N}_0$? $\mathbb{Z}$ or $\mathbb{Q}$?\\

    In order to prove that one set is ``the same size'' as the other, we can create pairs. For two sets $A$ and $B$, we can show that $A$ is the same size as $B$ by creating a function. For example, to show that $\mathbb{N}$ and $\mathbb{N}_0$ have the same size, we create $s:\mathbb{N} \rightarrow \mathbb{N}_0$, $s(n) = n+1$.

    \begin{problem}{Definition}
      Sets $A$ and $B$ have the same \textbf{cardinality} if $\exists$ bijection $f:A\rightarrow B$. We write $\textrm{card}(A) = \textrm{card}(B)$.
    \end{problem}
    \begin{problem}{Example}
      Given $a<b$ and $c<d$, we know that $\textrm{card}\left([a,b]\right) = \textrm{card}\left([c,d]\right)$.
      \tcblower
      We can create a linear function from $[a,b]$ to $[c,d]$, and since linear functions are bijections, we know that $\textrm{card}\left([a,b]\right) = \textrm{card}\left([c,d]\right)$.
    \end{problem}
    \begin{problem}{Example 2}
      \[
        \textrm{card}\left((0,1)\right) = \textrm{card}(\mathbb{R})
      \] 
      \tcblower
      \begin{itemize}
        \item $\tan: (-\pi/2,\pi/2) \rightarrow \mathbb{R}$ is a bijection:
          \begin{itemize}
            \item $\tan$ is strictly increasing (and thus injective)
            \item $\lim_{x\rightarrow\infty} \tan(x) = \infty$ and $\lim_{x\rightarrow -\infty}\tan(x) = -\infty$, and by intermediate value theorem, $\tan$ is surjective
          \end{itemize}
        \item $\ell: (0,1) \rightarrow (-\pi/2,\pi/2)$ is a bijection as it is a linear function between two intervals.
        \item Therefore, our bijection is $\tan \circ \ell: (0,1) \rightarrow \mathbb{R}$.
      \end{itemize}
    \end{problem}
    \begin{problem}{Definition}
      A set $F$ is \textbf{finite} if $F$ is empty or $\exists n\in \mathbb{N}$ such that $\textrm{card}(F) = \textrm{card}\left(\{1,2,\dots,n\}\right)$. A non-finite set is called infinite.
      \tcblower
      We can \textit{enumerate} $F$ by creating a function $\sigma: \{1,2,\dots,n\}\rightarrow F$, such that $x_j = \sigma(j)$ for $F = \{x_1,x_2,\dots,x_n\}$.
    \end{problem}
    \begin{problem}{Proposition}
      If $m\neq n$, then $\textrm{card}\{1,2,\dots,m\} = \textrm{card}\{1,2,\dots,n\}$.
      \tcblower
      WLOG, suppose $m>n$.\\

      Suppose toward contradiction that $f: \{1,2,\dots,m\} \rightarrow \{1,2,\dots,n\}$ is our bijection. This means there are $m$ ``pigeons'' and $n$ ``holes.''\\

      One hole, $j$, must contain at least two pigeons (i.e., $f(i) = f(k) = j$ for some $i\neq k\in \{1,2,\dots,m\}$). Since $f$ is assumed to be injective, this is a contradiction.
    \end{problem}
    \begin{problem}{Proposition}
      $\mathbb{N}$ is infinite.
      \tcblower
      Suppose toward contradiction that $\mathbb{N}$ is finite. Thus, $\exists m\in \mathbb{N}$ such that $f:\mathbb{N} \rightarrow \{1,2,\dots,m\}$ is a bijection.\\

      Consider the inclusion $i: \{1,2,\dots,m+1\}\rightarrow \mathbb{N}$. $i$ is injective.\\

      Then, $f\circ i: \{1,2,\dots,m+1\} \rightarrow \{1,2,\dots,m\}$ is an injection, but by the pigeonhole principle, this cannot be. Therefore, we have reached a contradiction.
    \end{problem}
    \begin{problem}{Proposition}
      If $A$ is infinite, $\exists i: \mathbb{N} \xhookrightarrow{} A$.
      \tcblower
      $\exists a_1\in A$, as $A\neq \emptyset$.\\

      $A\setminus \{a_1\} \neq \emptyset$, so $\exists a_2 \in A\setminus \{a_1\}$.\\

      $A \setminus \{a_1,a_2\} \neq \emptyset$, so $\exists a_3\in A\setminus \{a_1,a_2\}$.\\

      $\vdots$\\

      We thus get a sequence $\{a_1,a_2,\dots\}$ of distinct elements of $A$.\\

      Consider $f:\mathbb{N} \rightarrow A$, $f(n) = a_n$. $f$ is injective as $a_n$ are distinct.
    \end{problem}
    \begin{problem}{Example}
      \[
        \textrm{card}(\mathbb{Z}) = \textrm{card}(\mathbb{N})
      \] 
      \tcblower
      \[
        f:\mathbb{Z} \rightarrow \mathbb{N}
      \] 
      \begin{align*}
        f(m) &= \begin{cases}
          2m + 1 & m\geq 0\\
          -2m & m<0
        \end{cases}
      \end{align*}
      $f$ is a bijection as $g:\mathbb{N} \rightarrow \mathbb{Z},~g(n) = (-1)^{n+1}\left\lfloor \frac{n}{2}\right\rfloor$ is the inverse of $f$.
    \end{problem}
    \begin{problem}{Definition}
      Given any set $X$, $\mathcal{P}(X) = \{A \mid A\subseteq X\}$ is the \textbf{power set} of $X$.\\

      $2^X:= \{f\mid f:X\rightarrow \{0,1\}\}$.
    \end{problem}
    \begin{problem}{Proposition}
      \[
        \textrm{card}(\mathcal{P}(X)) = \textrm{card}(2^X)
      \] 
      \tcblower
      Let $\varphi: \mathcal{P}(X) \rightarrow 2^X$.\\

      For $A\subseteq X$, put $\varphi(A) := \mathbf{1}_A$.\\

      Consider $\psi: 2^X \rightarrow \mathcal{P}(X)$. $\psi(f) = f^{-1}(\{1\}) = \{x\in X \mid f(x) = 1\}$.\\

      Then, $\psi\circ\varphi(A) = \psi(\mathbf{1}_A) = \mathbf{1}^{-1}(\{1\}) = A$,\\

      and, we claim $\varphi(\psi(f)) = \varphi(f^{-1}(\{1\})) = \mathbf{1}_{f^{-1}(\{1\})} = f$.
    \end{problem}
    \begin{problem}{Cantor's theorem}
      \[
        \not\exists~\textrm{surjection}~\mathbb{N}\rightarrow (0,1)
      \] 
      \tcblower
      Fact from calculus: $\forall \sigma\in (0,1)$, $\sigma$ can be written uniquely as a decimal expansion.
      \[
        \sigma = \sum_{k=1}^{\infty} \frac{\sigma_k}{10^k}
      \] 
      Where $\sigma_k\in \{0,1,\dots,9\}$ and not terminating in $9$s.\\

      Suppose toward contradiction that $\exists r:\mathbb{N} \rightarrow (0,1)$ that is a surjection. Write $r(n) = 0.\sigma_1(n)\sigma_2(n)\sigma_3(n)\dots$, and $\sigma_j(n) \in \{0,1,\dots,9\}$, and not terminating in $9$s.\\

      Consider $\tau: \mathbb{N} \rightarrow \{0,1,\dots,9\}$:
      \[
        \tau(n) = \begin{cases}
          3 & \sigma_n(n) = 2\\
          2 & \sigma_n(n) \neq 2
        \end{cases}
      \]
      Let $\tau = 0.\tau(1)\tau(2)\tau(3)\dots$. Since $r$ is surjective, $\exists m\in \mathbb{N}$ such that $r(m) = 0.\sigma_1(m)\sigma_2(m)\dots \sigma_m(m)\dots = \tau = 0.\tau(1)\tau(2)\dots\tau(m)\dots$.\\

      This implies that $\sigma_m(m) = \tau(m)$, which is definitionally not true, which is our contradiction.
    \end{problem}
  \end{problem}
  \begin{problem}{Comparing Cardinalities}
    \begin{itemize}
      \item $\textrm{card}(A) \leq \text{card}(B) \Rightarrow \exists f: A\xhookrightarrow{} B$ 
      \item $\text{card}(A) < \text{card}(B) \Rightarrow \text{card}(A) \leq \text{card}(B), \text{card}(A) \neq \textrm{card}(B)$
    \end{itemize}
    For example, $X\subseteq Y \Rightarrow \text{card}(X) \leq \text{card}(Y)$ because $i: X\xhookrightarrow{} Y, i(x) = x$ is an injection.\\

    \begin{problem}{Transitive Property}
      If $\text{card}(A) \leq \text{card}(B) \leq \text{card}(C)$, then $\text{card}(A) \leq \text{card}(C)$.
      \tcblower
      The composition of two injective functions is injective.
    \end{problem}
    \begin{problem}{Canonical Set Comparisons}
      Via the inclusion map, we know the following:
      \[
        \text{card}(\mathbb{N}) \leq \text{card}(\mathbb{Z}) \leq \text{card}(\mathbb{Q}) \leq \text{card}(\mathbb{R})
      \] 
    \end{problem}
    \begin{problem}{Cantor-Schröder-Bernstein}
      For any set $A$, $\text{card}(A) < \text{card}(\mathcal{P}(A))$.
      \tcblower
      Let us construct a function: $f: A \rightarrow \mathcal{P}(A)$, where $a \mapsto \{a\}$.\\

      $f$ is injective, as if $\{a\} = \{a'\}$, $a = a'$. So, $\text{card}(A) \leq \text{card}(\mathcal{P}(A))$.
      \begin{description}
        \item[Claim] $\not\exists g: A\rightarrow \mathcal{P}(A)$, $g$ is surjective.
      \end{description}
      Suppose toward contradiction that such a $g$ exists. Consider $S: \{a\in A \mid a\notin g(a)\}$.\\

      Since $g$ is onto, $\exists a_0\in A$ with $g(a_0) = S$. $a_0 \in g(a_0) \Leftrightarrow a_0\in S \Leftrightarrow a_0\notin g(a_0)$. $\bot$
    \end{problem}
    \begin{problem}{Equivalent Propositions}
      \begin{enumerate}[(i)]
        \item $\text{card}(A) \leq \text{card}(B)$
        \item $\exists f: A\xhookrightarrow{} B$
        \item $\exists g: B\rightarrow A$, $g$ surjection.
      \end{enumerate}
      \tcblower
      By definition, (i) $\Leftrightarrow$ (ii).
      \begin{description}[font=\normalfont]
        \item[(ii) $\Rightarrow$ (iii)] If $f: A\xhookrightarrow{} B$, $f$ is left-invertible, and thus $\exists g: B\rightarrow A$ with $g\circ f = id_A$. So, $g$ is right-invertible, so $g$ is surjective.
        \item[(iii) $\Rightarrow$ (ii)] If $g: B \rightarrow A$ is surjective, then $g$ is right-invertible, so $\exists f: A\rightarrow B$ such that $g\circ f = id_B$. So, $f$ is left-invertible, so $f$ is injective.
      \end{description}
    \end{problem}
    \begin{problem}{Corollary}
      If $f: A\rightarrow B$ is any map, $\text{card}(f(A)) \leq \text{card}(A)$.
      \tcblower
      Consider $g: A\rightarrow f(A)$, where $g(a) = f(a)$. So, $g$ is onto, so $\exists$ an injection $f(A) \xhookrightarrow{} A$.
    \end{problem}
    \begin{problem}{More Cardinality of Canonical Sets}
      Consider the map $q: \mathbb{Z} \times \mathbb{N} \rightarrow \mathbb{Q}, q(m,n) = \frac{m}{n}$. This map is \textit{not} injective, as $2/4 = 1/2$. However, it is surjective, meaning $\text{card}(\mathbb{Q}) \leq \text{card}(\mathbb{Z} \times \mathbb{N})$.\\

      Earlier, we showed that $\exists h: \mathbb{Z} \leftrightarrow \mathbb{N}$. Consider $H: \mathbb{Z} \times \mathbb{N} \rightarrow \mathbb{N} \times\mathbb{N}$, defined as $H(m,n) = (h(m),n)$. 
      \begin{description}
        \item[Claim] $H$ is a bijection.
        \item[Proof of Injection] If $H(m_1,n_1) = H(m_2,n_2)$, then $h(m_1) = h(m_2)$, and $n_1 = n_2$, and since $h$ is bijective, $m_1 = m_2$, and $n_1 = n_2$, so $(m_1,n_1) = (m_2,n_2)$.
        \item[Proof of Surjection] Let $(k,\ell)\in \mathbb{N} \times \mathbb{N}$. We want to find $(m,n)\in \mathbb{Z}\times \mathbb{N}$ such that $H(m,n) = (k,\ell)$. Set $n = \ell$, and since $h$ is surjective, set $m\in \mathbb{Z}$ such that $h(m) = k$.
      \end{description}
      Therefore $\text{card}(\mathbb{Z} \times \mathbb{N}) = \text{card}(\mathbb{N}\times \mathbb{N})$.\\

      We claim that $\text{card}(\mathbb{N} \times \mathbb{N}) = \text{card}(\mathbb{N})$. First, we need to find $\varphi: \mathbb{N}\times \mathbb{N} \xhookrightarrow{} \mathbb{N}$. Consider $\varphi(m,n) = 2^m\cdot 3^n$. By the Fundamental Theorem of Arithmetic, $\varphi$ is injective.\\

      Bringing together our inequalities, we have:
      \begin{align*}
        \text{card}(\mathbb{N}) &\leq \text{card}(\mathbb{Q})\\
                                &\leq \text{card}(\mathbb{Z}\times \mathbb{N})\\
                                &=\text{card}(\mathbb{N}\times \mathbb{N})\\
                                &\leq \text{card}(\mathbb{N})
      \end{align*}
    \end{problem}
    \begin{problem}{Cardinality Rules}
      \begin{enumerate}[(i)]
        \item $\text{card}(A) \leq \text{card}(A)$ (Reflexivity)
        \item $\text{card}(A)\leq \text{card}(B) \leq \text{card}(C)\Rightarrow \text{card}(A) \leq \text{card}(C)$ (Transitivity)
        \item $\text{card}(A) \leq \text{card}(B)$ and $\text{card}(B) \leq \text{card}(A) \Rightarrow \text{card}(A) = \text{card}(B)$ (Cantor-Schröder-Bernstein)
        \item Either $\text{card}(A) \leq \text{card}(B)$ or $\text{card}(B) \leq \text{card}(A)$.
      \end{enumerate}
      \tcblower
      \begin{description}
        \item[Proof of (iii)] We have injections $f: A\xhookrightarrow{}B$ and $g:B\xhookrightarrow{} A$.\\

          Let $A_0 \setminus \textrm{ran}(g)$. Let $A_1 = g\circ f(A_0)$. Note that $A_0 \cap A_1 = \emptyset$. Let $A_2 = g\circ f(A_1)$. Note that $A_0\cap A_2 =\emptyset$.
          \begin{description}
            \item[Claim] We claim $A_1 \cap A_2 = \emptyset$. If $\exists z\in A_1\cap A_2$, then $z = g(f(x_0))$ for some $x_0 \in A_0$, and $z = g(f(x_1))$ where $x_1\in A_1$. However, $g$ and $f$ are injective, so $g\circ f$ is injective, so $x_0 = x_1$, but $A_0\cap A_1$. $\bot$
          \end{description}
          We let $A_n = g\circ f(A_{n-1})$ for arbitrary $n$, and $A_{\infty} = \bigcup_{n\geq 0} A_n$. If $a\notin A_{\infty}$, then $a\notin A_0$, so $a\in \textrm{ran}(g)$. Define $h: A\rightarrow B$.
          \[
            h(x) = \begin{cases}
              f(x) & x\in A_{\infty}\\
              y_x & x\notin A_{\infty}
            \end{cases}
          \] 
          Where $y_x$ is the unique element in $B$ with $g(y_x) = x$.
          \begin{description}
            \item[Claim] We claim $h$ is the desired bijection.
            \item[Proof of Injection] Suppose $h(x_1) = h(x_2)$.\\

              If $x_1,x_2\in A_{\infty}$, then by the definition of $H$, $f(x_1) = f(x_2)$, $f$ is injective, so $x_1 = x_2$.\\

              Suppose $x_1,x_2\notin A_{\infty}$. Then, by definition, $h(x_1) = y_{x_1}$ and $h(x_2) = y_{x_2}$, then $g(y_{x_1}) = g(y_{x_2})$, so $x_1 = x_2$.\\

              WLOG, suppose $x_1\in A_{\infty}$, and $x_2 \notin A_{\infty}$. $h(x_1) = f(x_1) = h(x_2) = y_{x_2}$. Then, $g(f(x_1))\in A_{\infty} = g(y(x_2)) = x_2\notin A_{\infty}$. This case is not possible.\\

              Thus, $h$ is injective.
            \item[Proof of Surjection] Let $y\in B$. Set $x := g(y)$.\\

              Suppose $x\notin A_{\infty}$. Then, $h(x) = y_x$, where $y_x$ is the unique element in $B$ with $g(y_x)=x=g(y)$, so $y = y_x$, so $h(x) = y$.\\

              If $x\in A_{\infty}$. We know that $x\notin A_0$, as $x\in \textrm{ran}(g)$. So, $x = g(f(z))$ for some $z\in A_{m-1}$. Since $g$ is injective, $y = f(z),~z\in A_{\infty}$. Thus, $h(z) = f(z) = y$.
          \end{description}
      \end{description}
    \end{problem}
      Therefore, we have $\text{card}(\mathbb{Q}) = \text{card}(\mathbb{N})$.
  \end{problem}
\end{document}
