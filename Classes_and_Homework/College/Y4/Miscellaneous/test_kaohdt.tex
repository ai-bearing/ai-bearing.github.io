\documentclass{kaohandt}

% Load kao-specific packages
\usepackage{kaorefs}    % For cross-referencing
\usepackage{kaobiblio}  % For bibliography management
\usepackage{kaopaper}   % For paper formatting
\usepackage{kaotools}   % For additional tools and utilities

% Essential mathematical packages
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{mathtools}

% Document encoding
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}

% Common mathematical notation
\newcommand{\N}{\mathbb{N}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\F}{\mathbb{F}}

% Mathematical operators
\DeclareMathOperator{\re}{Re}
\DeclareMathOperator{\im}{Im}
\DeclareMathOperator{\Span}{span}
\DeclareMathOperator{\Card}{card}
\DeclareMathOperator{\Dim}{dim}
\DeclareMathOperator{\tr}{tr}
\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\Rank}{rank}
\DeclareMathOperator{\sgn}{sgn}

% Theorem environments
\usepackage{thmtools}

\declaretheoremstyle[
    headfont=\bfseries,
    bodyfont=\itshape,
    spaceabove=6pt,
    spacebelow=6pt,
    headpunct=.,
    notefont=\normalfont\bfseries,
    notebraces={(}{)}
]{theoremstyle}

\declaretheoremstyle[
    headfont=\bfseries,
    bodyfont=\normalfont,
    spaceabove=6pt,
    spacebelow=6pt,
    headpunct=.,
    notefont=\normalfont\bfseries,
    notebraces={(}{)}
]{definitionstyle}

\declaretheorem[name=Theorem,style=theoremstyle,numberwithin=section]{theorem}
\declaretheorem[name=Lemma,style=theoremstyle,numberwithin=section]{lemma}
\declaretheorem[name=Corollary,style=theoremstyle,numberwithin=section]{corollary}
\declaretheorem[name=Proposition,style=theoremstyle,numberwithin=section]{proposition}
\declaretheorem[name=Definition,style=definitionstyle,numberwithin=section]{definition}
\declaretheorem[name=Example,style=definitionstyle,numberwithin=section]{example}

% Calculus shortcuts
\newcommand{\pd}[2]{\frac{\partial #1}{\partial #2}}
\newcommand{\diff}[2]{\frac{d #1}{d #2}}

% Allow line breaks in displays
\allowdisplaybreaks
\begin{document}
  Testing.
  \begin{theorem}[A Theorem]
    If $\left(X,\preceq\right)$ is a partially ordered set in which every chain $\mathcal{C}\subseteq X$ has an upper bound, then $X$ has a maximal element.
  \end{theorem}
\end{document}
