\documentclass[10pt]{mypackage}

% sans serif font:
%\usepackage{cmbright,sfmath,bbold}
%\renewcommand{\mathcal}{\mathtt}

%Euler:
%\usepackage{newpxtext,eulerpx,eucal,eufrak}
%\renewcommand*{\mathbb}[1]{\varmathbb{#1}}
%\renewcommand*{\hbar}{\hslash}

%\renewcommand{\mathbb}{\mathds}
%\usepackage{homework}
\usepackage{exposition}

\pagestyle{fancy} %better headers
\fancyhf{}
\rhead{Avinash Iyer}
\lhead{The Lebesgue Measure}

\setcounter{secnumdepth}{0}

\begin{document}
\RaggedRight
\begin{abstract}
  \noindent We detail the construction and some of the properties of the Lebesgue measure.
\end{abstract}
\section{Premeasures, Outer Measures, and Measures}%
Consider a set-function $\lambda\colon P\left( \R \right)\rightarrow [0,\infty]$ that satisfies
\begin{itemize}
  \item $\lambda\left( \emptyset \right) = 0$;
  \item for any finite or infinite sequence of disjoint sets, $\set{E_j}_{j=1}^{\infty}$, we have
    \begin{align*}
      \lambda\left( \bigsqcup_{j=1}^{\infty} \right) &= \sum_{j=1}^{\infty}\lambda\left( E_j \right);
    \end{align*}
  \item $\lambda\left( I \right) = b - a$, where $I$ is an interval (either open, closed, or a half-interval);
  \item $\lambda\left( s + E \right) = \lambda\left( E \right)$.
\end{itemize}
Unfortunately, such a set-function doesn't exist.\newline

In order to construct a set function on a restricted domain $\lambda\colon \mathcal{L}\rightarrow [0,\infty]$, we need to define a particular class of measurable subsets of $\R$. This is where the concept of an \textit{outer measure} comes in.
\begin{definition}
  Let $X$ be a set, and let $\mu^{\ast}\colon P\left( X \right)\rightarrow [0,\infty]$ be a set function. We say $\mu^{\ast}$ is an \textit{outer measure} if
  \begin{itemize}
    \item $\mu^{\ast}\left( \emptyset \right)= 0$;
    \item $\mu^{\ast}\left( A \right)\leq \mu^{\ast}\left( B \right)$ if $A\subseteq B$;
    \item $\displaystyle \mu^{\ast}\left( \bigcup_{j=1}^{\infty}A_j \right)\leq \sum_{j=1}^{\infty}\mu^{\ast}\left( A_j \right)$.
  \end{itemize}
\end{definition}
We will obtain an outer measure on the entirety of $P(X)$ by defining a notion of measure on some ``satisfactory'' subfamily $\mathcal{E}\subseteq P(X)$, then by approximating other subsets using this family.
\begin{proposition}
  Let $\mathcal{E}\subseteq P(X)$ be a family of subsets such that $\emptyset\in \mathcal{E}$ and $X\in \mathcal{E}$, and let $\rho\colon \mathcal{E}\rightarrow [0,\infty]$ be a set function such that $\rho\left( \emptyset \right) = 0$. For any $A\subseteq X$, define
  \begin{align*}
    \mu^{\ast}\left( E \right) &= \inf\set{\sum_{j\geq 1}\rho\left( E_j \right) | E_j\in \mathcal{E}, A\subseteq \bigcup_{j\geq 1}E_j}.
  \end{align*}
  Then, $\mu^{\ast}$ is an outer measure.
\end{proposition}
\begin{proof}
  We start by showing well-definedness, which stems from the fact that we may select $E_j = X$ for all $j$.\newline

  Since we may take $E_j = \emptyset$ for all $j$, we must have $\mu^{\ast}\left( \emptyset \right) = 0$. Furthermore, if $A\subseteq B$, since the set over which the infimum is taken for the definition of $\mu^{\ast}\left( A \right)$ includes the corresponding set for $B$, we must have $\mu^{\ast}\left( A \right)\leq \mu^{\ast}\left( B \right)$.\newline

  Finally, let $\set{A_j}_{j\geq 1}\subseteq P(X)$, and let $\ve > 0$. For each $j$, there exists $\set{E_{j,k}}_{k\geq 1}\subseteq \mathcal{E}$ such that $A_j\subseteq \bigcup_{k\geq 1}E_{j,k}$ and $\sum_{k\geq 1}\rho\left( E_{j,k} \right) \leq \mu^{\ast}\left( A_j \right) + \ve 2^{-j}$.\newline

  Then, if $A = \bigcup_{j\geq 1}A_j$, we have $A\subseteq \bigcup_{j,k\geq 1}E_{j,k}$, and $\sum_{j,k\geq 1}\rho\left( E_{j,k} \right) \leq \sum_{j\geq 1}\mu^{\ast}\left( A_j \right) + \ve$, so that $\mu^{\ast}\left( A \right)\leq \sum_{j\geq 1}\mu^{\ast}\left( A_j \right) + \ve$. Since $\ve$ is arbitrary, we are done.
\end{proof}
\begin{definition}
  A subset $A\subseteq X$ is said to be $\mu^{\ast}$-\textit{measurable} if for any $E\subseteq X$, $A$ serves as a good ``cookie cutter'' for $E$, in that
  \begin{align*}
    \mu^{\ast}\left( E \right) &= \mu^{\ast}\left( E\cap A \right) + \mu^{\ast}\left( E\cap A^{c} \right).
  \end{align*}
  Equivalently, due to subadditivity, we have $A$ is measurable if and only if for all $E\subseteq X$,
  \begin{align*}
    \mu^{\ast}\left( E \right)\geq \mu^{\ast}\left( E\cap A \right) + \mu^{\ast}\left( E\cap A^{c} \right).
  \end{align*}
\end{definition}
\begin{definition}
  Let $\mathcal{A}$ be an algebra of subsets of $X$. We call a set function $\mu_0\colon \mathcal{A}\rightarrow [0,\infty]$ a \textit{premeasure} if
  \begin{itemize}
    \item $\mu_0\left( \emptyset \right) = 0$;
    \item for a collection of disjoint elements of $\mathcal{A}$, $\set{A_j}_{j=1}^{\infty}$ where $\bigcup_{j\geq 1}A_j\in \mathcal{A}$, we have
      \begin{align*}
        \mu_0\left( \bigsqcup_{j\geq 1}A_j \right) &= \sum_{j\geq 1}\mu_0\left( A_j \right).
      \end{align*}
  \end{itemize}
\end{definition}
Every premeasure gives rise to an outer measure by taking
\begin{align*}
  \mu^{\ast}\left( E \right) &= \inf\set{\sum_{j\geq 1}\mu_0\left( A_j \right) | A_j\in \mathcal{A},E\subseteq \bigcup_{j\geq 1}A_j}.\label{eq:premeasure_to_outer_measure}\tag{$\ast$}
\end{align*}
A remarkable result by Caratheodory allows us to extend premeasures from algebras to measures on $\sigma$-algebras. To start, there is a little bit of build-up.
\begin{proposition}
  Let $\mu_0$ be a premeasure on $\mathcal{A}$, with $\mu^{\ast}$ defined by \eqref{eq:premeasure_to_outer_measure}. Then,
  \begin{enumerate}[(a)]
    \item $\mu^{\ast}|_{\mathcal{A}} = \mu_0$;
    \item every set in $\mathcal{A}$ is $\mu^{\ast}$-measurable.
  \end{enumerate}
\end{proposition}
\begin{proof}
  Suppose $E\in \mathcal{A}$. If $E\subseteq \bigcup_{j\geq 1}A_j$ with $A_j\in \mathcal{A}$, we let $B_n = E\cap \left( A_n\setminus \bigcup_{j=1}^{n-1}A_j \right)$. The $B_n$ are disjoint members of $\mathcal{A}$ whose union is $E$, so
  \begin{align*}
    \mu_0\left( E \right) &= \sum_{j=1}^{\infty}\mu_0\left( B_j \right)\\
                          &\leq \sum_{j=1}^{\infty}\mu_0\left( A_j \right).
  \end{align*}
  It follows that $\mu_0\left( E \right)\leq \mu^{\ast}\left( E \right)$. The reverse inequality is clear from the fact that we may specify $A_1 = E$ and $A_{j >1} = \emptyset$.\newline

  Meanwhile, if $A\in \mathcal{A}$, $E\subseteq X$, and $\ve > 0$, then there is a collection $\set{B_j}_{j\geq 1}\subseteq \mathcal{A}$ with $E\subseteq \bigcup_{j\geq 1}B_j$ and $\sum_{j\geq 1}\mu_0\left( B_j \right)\leq \mu^{\ast}\left( E \right) + \ve$. By additivity on $\mathcal{A}$, we get
  \begin{align*}
    \mu^{\ast}\left( E \right) + \ve &\geq \sum_{j=1}^{\infty}\mu_0\left( B_j\cap A \right) + \mu_0\left( B_j\cap A^{c} \right)\\
                                     &\geq \mu^{\ast}\left( E\cap A \right) + \mu^{\ast}\left( E\cap A^{c} \right),
  \end{align*}
  so $A$ is measurable.
\end{proof}
\begin{theorem}[Caratheodory's Theorem]
  Let $\mathcal{A}\subseteq P(X)$ be an algebra, let $\mu_0$ be a premeasure on $\mathcal{A}$, and let $\mathcal{M}$ be the $\sigma$-algebra generated by $\mathcal{A}$. There exists a measure $\mu$ on $\mathcal{M}$ whose restriction to $\mathcal{A}$ is $\mu_0$ --- namely, $\mu - \mu^{\ast}|_{\mathcal{M}}$, where $\mu^{\ast}$ is given by \eqref{eq:premeasure_to_outer_measure}.\newline

  If $\nu$ is another measure on $\mathcal{M}$ that extends $\mu_0$, then $\nu\left( E \right)\leq \mu\left( E \right)$, with equality for all $\mu\left( E \right) < \infty$. Furthermore, if $\mu_0$ is $\sigma$-finite, then $\mu$ is unique.
\end{theorem}
\begin{proof}
  We start by showing that if $\mu^{\ast}$ is an outer measure, then if $\mathcal{M}^{\ast}$ is the collection of $\mu^{\ast}$-measurable sets, $\mathcal{M}^{\ast}$ is a $\sigma$-algebra and $\mu^{\ast}|_{\mathcal{M}^{\ast}}$ is a complete measure.\footnote{This is Theorem 1.11 in Folland's \textit{Real Analysis}.}\newline

  By definition, $\mathcal{M}^{\ast}$ is closed under complements, as the definition of $\mu^{\ast}$-measurability is symmetric in $A$ and $A^{c}$. To show finite additivity, if $A,B\in \mathcal{M}^{\ast}$ and $E\subseteq X$, we have
  \begin{align*}
    \mu^{\ast}\left( E \right) &= \mu^{\ast}\left( E\cap A \right) + \mu^{\ast}\left( E\cap A^{c} \right)\\
                               &= \mu^{\ast}\left( E\cap A\cap B \right) + \mu^{\ast}\left( E\cap A \cap B^{c} \right)\\
                               &+ \mu^{\ast}\left( E\cap A^{c}\cap B \right) + \mu^{\ast}\left( E\cap A^{c}\cap B^{c} \right).
  \end{align*}
  We note that $A\cup B = \left( A\cap B \right) \cup \left( A\cap B^{c} \right)\cup \left( A^{c}\cap B \right)$, so subadditivity gives
  \begin{align*}
    \mu^{\ast}\left( E\cap A\cap B \right) + \mu^{\ast}\left( E\cap A \cap B^{c} \right) + \mu^{\ast}\left( E\cap A^{c}\cap B \right) &\geq \mu^{\ast}\left( E\cap \left( A\cup B \right) \right).
  \end{align*}
  Therefore,
  \begin{align*}
    \mu^{\ast}\left( E \right) &\geq \mu^{\ast}\left( E\cap \left( A\cup B \right) \right) + \mu^{\ast}\left( E\cap \left( A\cup B \right)^{c} \right).
  \end{align*}
  Therefore, $A\cup B\in \mathcal{M}^{\ast}$, so $\mathcal{M}^{\ast}$ is an algebra. Moreover, if $A,B\in \mathcal{M}^{\ast}$ are disjoint, then
  \begin{align*}
    \mu^{\ast}\left( A\cup B \right) &= \mu^{\ast}\left( \left( A\cup B \right)\cap A \right) + \mu^{\ast}\left( \left( A\cup B \right)\cap A^{c} \right)\\
                                     &= \mu^{\ast}\left( A \right) + \mu^{\ast}\left( B \right).
  \end{align*}
  To show that $\mathcal{M}^{\ast}$ is a $\sigma$-algebra, we show that $\mathcal{M}^{\ast}$ is closed under countable \textit{disjoint} unions. Let $\set{A_j}_{j\geq 1}$ be a sequence of disjoint sets in $\mathcal{M}^{\ast}$, and let $B_n = \bigsqcup_{j = 1}^{n} A_j$, with $B = \bigsqcup_{j\geq 1}A_j$. Then, for any $E\subseteq X$, we have
  \begin{align*}
    \mu^{\ast}\left( E\cap B_n \right) &= \mu^{\ast}\left( E\cap B_n\cap A_n \right) + \mu^{\ast}\left( E\cap B_n\cap A_n^{c} \right)\\
                                       &= \mu^{\ast}\left( E\cap A_n \right) + \mu^{\ast}\left( E\cap B_{n-1} \right),
  \end{align*}
  so by induction, we have
  \begin{align*}
    \mu^{\ast}\left( E\cap B_n \right) &= \sum_{j=1}^{n} \mu^{\ast}\left( E\cap A_j \right).
  \end{align*}
  This gives
  \begin{align*}
    \mu^{\ast}\left( E \right) &= \mu^{\ast}\left( E\cap B_n \right) + \mu^{\ast}\left( E\cap B_n^{c} \right)\\
                               &\geq \sum_{j=1}^{n}\mu^{\ast}\left( E\cap A_j \right) + \mu^{\ast}\left( E\cap B^c \right),
  \end{align*}
  and taking $n\rightarrow\infty$, we have
  \begin{align*}
    \mu^{\ast}\left( E \right) &\geq \sum_{j=1}^{\infty} \mu^{\ast}\left( E\cap A_j \right) + \mu^{\ast}\left( E\cap B^c \right)\\
                               &\geq \mu^{\ast}\left( \bigsqcup_{j\geq 1}E\cap A_j \right) + \mu^{\ast}\left( E\cap B^c \right)\\
                               &= \mu^{\ast}\left( E\cap B \right) + \mu^{\ast}\left( E\cap B^{c} \right)\\
                               &\geq \mu^{\ast}\left( E \right).
  \end{align*}
  Therefore, $B\in \mathcal{M}^{\ast}$, and if we take $E = B$,
  \begin{align*}
    \mu^{\ast}\left( B \right) &= \sum_{j=1}^{\infty}\mu^{\ast}\left( A_j \right),
  \end{align*}
  and $\mu^{\ast}$ is countably additive on $\mathcal{M}^{\ast}$. Finally, if $\mu^{\ast}\left( A \right) = 0$, we have
  \begin{align*}
    \mu^{\ast}\left( E \right) &\leq \mu^{\ast}\left( E\cap A \right) + \mu^{\ast}\left( E\cap A^{c} \right)\\
                               &= \mu^{\ast}\left( E\cap A^{c} \right)\\
                               &\leq \mu^{\ast}\left( E \right),
  \end{align*}
  so $A\in \mathcal{M}^{\ast}$, and $\mu^{\ast}|_{\mathcal{M}^{\ast}}$ is a complete measure.\newline

  Returning to our premeasure, $\mu_0$ and the corresponding outer measure $\mu^{\ast}$, we note that since every element of $\mathcal{A}$ is $\mu^{\ast}$-measurable, the $\sigma$-algebra of $\mu^{\ast}$-measurable sets includes $\mathcal{A}$, so it includes $\mathcal{M} = \sigma\left( \mathcal{A} \right)$.\newline

  Let $\nu$ be any other measure on $\mathcal{M}$ that extends $\mu_0$. If $E\in \mathcal{M}$, and $E\subseteq \bigcup_{j\geq 1}A_j$ with $A_j\in \mathcal{A}$, then $\nu\left( E \right) \leq \sum_{j\geq 1}\nu\left( A_j \right) = \sum_{j\geq 1}\mu_0\left( A_j \right)$, so $\nu\left( E \right)\leq \mu\left( E \right)$.\newline

  If we set $A = \bigcup_{j\geq 1}A_j$, the properties of the premeasure give us
  \begin{align*}
    \nu\left( A  \right) &= \lim_{n\rightarrow\infty} \nu\left( \bigcup_{j=1}^{n} A_j \right)\\
                         &= \lim_{n\rightarrow\infty} \mu\left( \bigcup_{j=1}^{n}A_j \right)\\
                         &= \mu\left( A \right).
  \end{align*}
  If $\mu\left( E \right) < \infty$, we may select the $A_j$ such that $\mu\left( A \right) < \mu\left( E \right) + \ve$, so $\mu\left( A\setminus E \right) < \ve$, and
  \begin{align*}
    \mu\left( E \right) &\leq \mu\left( A \right)\\
                        &= \nu\left( A \right)\\
                        &= \nu\left( E \right)  + \nu\left( A\setminus E \right)\\
                        &\leq \nu\left( E \right) +\mu\left( A\setminus E \right)\\
                        &\leq \nu\left( E \right) + \ve.
  \end{align*}
  Since $\ve$ is arbitrary, $\mu\left( E \right) = \nu\left( E \right)$.\newline

  Now, if $\mu_0$ is $\sigma$-finite, we write $X = \bigsqcup_{j\geq 1}A_j$, with $\mu_0\left( A_j \right) < \infty$ and the $A_j$ are disjoint. For any $E\in \mathcal{M}$, we have
  \begin{align*}
    \mu\left( E \right) &= \sum_{j\geq 1}\mu\left( E\cap A_j \right)\\
                        &= \sum_{j\geq 1}\nu\left( E\cap A_j \right)\\
                        &= \nu\left( E \right).
  \end{align*}
\end{proof}
\section{Construction of the Lebesgue Measure}%
With Caratheodory's theorem, we now know that it is possible to construct a unique measure from a suitable premeasure on a particular family of subsets. Here, we will use the family of half-open intervals, or h-intervals, of the form $\left( a,b \right]$, where $-\infty \leq a < b < \infty$, or $\left(a,\infty\right)$.\newline

The algebra of h-intervals, $\mathcal{A}$, generates the Borel $\sigma$-algebra, $\mathcal{B}_{\R}$.\newline

Consider a finite Borel measure on $\R$, and let $F(x) = \mu\left( \left( -\infty,x \right] \right)$. We often call $F(x)$ the \textit{distribution function} of $\mu$. Then, we see that $F$ is increasing and right-continuous, as
\begin{align*}
  \left( -\infty,x \right] &= \bigcap_{n\geq 1} \left( -\infty,x_n \right],
\end{align*}
where $x_n$ is a decreasing sequence convergence to $x$.\newline

As it turns out, we are able to reverse this process. Given an increasing, right-continuous function $F\colon \R\rightarrow \R$, there is a corresponding Borel measure.
\begin{proposition}
  Let $F\colon \R\rightarrow \R$ be increasing and right-continuous. If $\set{\left( a_j,b_j \right]}_{j=1}^{n}$ are disjoint $h$-intervals, we define
  \begin{align*}
    \mu_0\left( \bigcup_{j=1}^{n} \left( a_j,b_j \right] \right) &= \sum_{j=1}^{n} \left( F\left( b_j \right)-F\left( a_j \right) \right),
  \end{align*}
  and set $\mu_0\left( \emptyset \right) = 0$. Then, $\mu_0$ is a premeasure on $\mathcal{A}$.
\end{proposition}
\begin{proof}
  We start by verifying that $\mu_0$ is well-defined.
\end{proof}

\section{Cantor--Lebesgue Function}%

\end{document}
